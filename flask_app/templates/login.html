<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
    <script src="https://kit.fontawesome.com/f217b10d44.js" crossorigin="anonymous"></script>
    <title>Login</title>
</head>
<body>
    <nav>
        <div id="navbar" class="d-flex align-items-center">
            <div id="navbar-content" class="d-flex align-items-center justify-content-between">
                <div id="nav-img" class="d-flex align-items-center">
                    <img src="/static/img/car-img.png" alt="logo">
                    <p><a href="/">Car Wash Supreme</a></p>
                </div>
                <div id="nav-list">
                    <ul class="d-flex justify-content-evenly align-items-center">
                        <li><a href="/about">About Us</a></li>
                        <li><a href="#">Services</a></li>
                        <li><a href="/reviews">Reviews</a></li>
                        <li><a href="/contact">Contact</a></li>
                        {% if session['user_id'] %}
                        <li><a href="/logout">
                            <button class="btn">Logout</button>
                        </a></li>
                        {% else %}
                        <li><a href="/login_page">
                            <button class="btn">Login</button>
                        </a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>
    </nav>
    <!-- body of website -->
    <div id="container-1" class="d-flex">
        <div id="login-text">
            <p><b>Login and Registration</b></p>
        </div>
        <div id="sub-div">
            <img src="/static/img/inner-banner-shape.png" alt="login image">
        </div>
    </div>
    <div id="container-2" class="d-flex justify-content-center align-items-center">
        <div id="login-reg">
            <!-- Tab links -->
            <div class="tab d-flex justify-content-center">
                <button class="tablinks" onclick="openTab(event, 'Registration')" id="defaultOpen"><h1>Registration</h1></button>
                <button class="tablinks" onclick="openTab(event, 'Login')"><h1>Login</h1></button>
            </div>
            <!-- Tab content -->
            <div id="Registration" class="tabcontent">
                <div class="card" id="card1">
                    <div class="card-body">
                        <form action="/registration" method="POST">
                            <h3 class="card-title text-center">Create an Account</h3>
                            <div class="text-light">
                                {% with messages = get_flashed_messages(category_filter = ['register']) %}
                                {% if messages %}
                                    {% for message in messages%}
                                        <p>{{message}}</p>
                                    {% endfor %}
                                {% endif %}
                                {% endwith %}
                            </div>
                            <label for="username" class="form-label">Username:</label>
                            <input type="text" class="form-control" name="username">
                            <label for="first_name" class="form-label">First Name:</label>
                            <input type="text" class="form-control" name="first_name">
                            <label for="last_name" class="form-label">Last Name:</label>
                            <input type="text" class="form-control" name="last_name">
                            <label for="email" class="form-label">Email:</label>
                            <input type="text" class="form-control" name="email">
                            <label for="password" class="form-label">Password</label>
                            <input type="password" class="form-control" name="password">
                            <p>Password must have an uppercase letter and number.</p>
                            <label for="confirm_password" class="form-label">Confirm Password:</label>
                            <input type="password" class="form-control" name="confirm_password">
                            <button type="submit">Register</button>
                        </form>
                    </div>
                </div>
            </div>
            <div id="Login" class="tabcontent">
                <div class="card" id="card2">
                    <div class="card-body">
                        <form action="/login" method="POST">
                            <h3 class="card-title text-center">Welcome Back</h3>
                            <div class="text-light">
                                {% with messages = get_flashed_messages(category_filter = ['login']) %}
                                {% if messages %}
                                    {% for message in messages%}
                                        <p>{{message}}</p>
                                    {% endfor %}
                                {% endif %}
                                {% endwith %}
                            </div>
                            <label for="login_email" class="form-label">Email:</label>
                            <input type="text" class="form-control" name="login_email">
                            <label for="login_password" class="form-label">Password</label>
                            <input type="password" class="form-control" name="login_password">
                            <button type="submit">Login</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="footer">
        <div id="footer-container" class="d-flex align-items-center justify-content-evenly">
            <div class="footer-list">
                <h5 class="mb-4">Useful Links</h5>
                <ul>
                    <li><a href="/about">About Us</a></li>
                    <li><a href="/reviews">Reviews</a></li>
                    <li><a href="#">Products</a></li>
                </ul>
            </div>
            <div class="footer-list">
                <h5 class="mb-4">Our Services</h5>
                <ul>
                    <li><a href="#">General Services</a></li>
                    <li><a href="#">Gift Cards</a></li>
                    <li><a href="#">Wash Packages</a></li>
                </ul>
            </div>
            <div class="footer-list">
                <h5 class="mb-4">Get in Touch</h5>
                <p>We'd love to hear from our valued customers, below <br>are places where you can reach us! </p>
                <ul>
                    <li class="mb-2">
                        <i class="fa-solid fa-phone mr-5"></i>
                        <a href="#">+1 (123) 456 7890</a>
                    </li>
                    <li class="mb-2">
                        <i class="fa-sharp fa-solid fa-envelope"></i>
                        <a href="#">bestcarwash@carwash.com</a>
                    </li>
                    <li>
                        <i class="fa-sharp fa-solid fa-location-dot"></i>
                        <a href="#">123 Street, Dallas, Texas</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="{{ url_for('static', filename='js/login.js') }}"></script>
</body>
</html>